extends Resource
class_name LevelMap

@export var map: Array = [
	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0], #0
	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0], #1
	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0], #2
	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0], #3
	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0], #4
	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0], #5
	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0], #6
	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0], #7
	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0], #8
	[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1], #9
	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0], #10
	[8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0], #11
	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0], #12
	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0], #13
	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0], #14
	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0], #15
	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0], #16
	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0], #17
	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0], #18
	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0], #19
]

@export var rotation: Array = [
	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0], #0
	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0], #1
	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0], #2
	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0], #3
	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0], #4
	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0], #5
	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0], #6
	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0], #7
	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0], #8
	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0], #9
	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0], #10
	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0], #11
	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0], #12
	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0], #13
	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0], #14
	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0], #15
	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0], #16
	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0], #17
	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0], #18
	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0], #19
]

@export var blocked_cells: Array[Vector2i] = [Vector2i(9,0), Vector2i(11,0), Vector2i(9,19)]
@export var win_cells: Array[Vector2i] = [Vector2i(9,19)]
@export var build_limit: Dictionary = {
	"NOONE": 0,
	"TWO_SIDE_PIPE": 0,
	"WATERMILL": 0,
	"ALL_SIDE_COGS": 0,
	"ALL_SIDE_SHAFTS": 0,
	"BIG_COG": 0,
	"SIDE_SHAFT_SIDE_COGS": 0,
	"TWO_SIDE_SHAFTS": 0,
	"PUMP": 0,
	"CORNER_PIPE": 0,
	"TWO_SIDE_COGS": 0,
	"SIDE_COG_SIDE_SHAFTS": 0,
	"TWO_SIDE_COG_SHAFT": 0,
	"CORNER_COGS": 0,
	"CORNER_SHAFTS": 0,
	"CORNER_SHAFT_COG": 0,
	"CORNER_COG_SHAFT": 0,
	"BLOCK": 0,
	"TWO_SIDE_PIPE_WITH_COGS": 0,
	"THREE_SIDE_PIPE": 0,
	}

var passed: bool = false
var stars: int = 0
@export var stars_conditions: Dictionary = {
	1: 0,
	2: 0,
	3: 0,
}
